<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <h1>식당 테스트</h1>
  <input id="search" type="text" value="">
  <button id="button1" onclick="getdata()">검색</button>
  <p id="test1"></p>
  <img src="" id="img">
  <script>
    function getdata() {
      fetch('https://apis.data.go.kr/6260000/FoodService/getFoodKr?serviceKey=dvxaXfX6hB3M%2Fhizzw%2BrCC5c9677ILG8ULWYM7y7R5YLKbl332xtCDxaJGj3TBALyf9sGSQktMV5W3hSS60fJg%3D%3D&pageNo=1&numOfRows=150&resultType=json')
        .then((response) => response.json())
        .then((data) => {
          for(let i=0;i<150;i++){
          var str = data['getFoodKr']['item'][i]['MAIN_TITLE'] +" "+ data['getFoodKr']['item'][i]['GUGUN_NM'] +" "+ data['getFoodKr']['item'][i]['PLACE'];
          var str2 = data['getFoodKr']['item'][i]['MAIN_IMG_THUMB'];
          let search = document.getElementById("search").value;
          if(str.indexOf(search) != -1){
            document.getElementById("test1").innerHTML = str;
            document.getElementById("img").src = str2;
          }
        }
      });
    }
    
  </script>
</body>
</html>